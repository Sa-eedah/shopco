{% extends 'shopco/base.html' %}
{% load static %}

{% block title %} Welcome {% endblock %}

{% block content %}
{% if messages %}
<div class="messages">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
</div>
{% endif %}
<!-- Hero Section -->
<section class="section-one container-two">
    <div class="leftside-one">
        <div class="heading-section">
            <h1>FIND CLOTHES THAT MATCHES YOUR STYLE</h1>
            <p>Browse through our diverse range of meticulously crafted garments, designed to bring out your individuality and cater to your sense of style.</p>
            <div class="shop-now">
                <button class="shopnow"><a href="{% url 'item:items' %}">Shop Now</a></button>
            </div>
        </div>

        <div class="step-section">
            <div class="card"><h2>200+</h2><p>International Brands</p></div>
            <div class="card"><h2>2,000+</h2><p>High-Quality Products</p></div>
            <div class="card"><h2>30,000+</h2><p>Happy Customers</p></div>
        </div>
    </div>
    <div class="rightside-one">
        <img src="{% static 'shopco/images/couple.png' %}" alt="couple">
    </div>
</section>

<!-- Slider Section -->
<section class="slider-section container-one">
    <div class="autoplay">
        <div class="item"><a href="#"><img src="{% static 'shopco/images/versace.png' %}" alt="versace"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/zara-logo-1 1.png' %}" alt="zara"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/gucci-logo-1 1.png' %}" alt="gucci"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/prada-logo-1 1.png' %}" alt="prada"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/calvin-klein.png' %}" alt="calvin-klein"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/versace.png' %}" alt="versace"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/zara-logo-1 1.png' %}" alt="zara"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/gucci-logo-1 1.png' %}" alt="gucci"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/prada-logo-1 1.png' %}" alt="prada"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/calvin-klein.png' %}" alt="calvin-klein"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/versace.png' %}" alt="versace"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/zara-logo-1 1.png' %}" alt="zara"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/gucci-logo-1 1.png' %}" alt="gucci"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/prada-logo-1 1.png' %}" alt="prada"></a></div>
        <div class="item"><a href="#"><img src="{% static 'shopco/images/calvin-klein.png' %}" alt="calvin-klein"></a></div>
    </div>
</section>


<!-- NEW ARRIVALS -->
<section class="section-two container-two">
    <h2>NEW ARRIVALS</h2>
    <div class="products-section">
        {% for item in new_arrivals %}
        <div class="products">
            <a href="{% url 'item:detail' item.id %}">
                <img src="{{ item.image.url }}" alt="{{ item.name }}" class="product_img">
                <div class="p-4">
                    <p>{{ item.name }}</p>
                    <img class="stars" src="{% static 'shopco/images/stars-4.5.png' %}" alt="tape">
                    <span class="rating">4.5/5</span>
                    <p class="price">
                        ${{ item.price }}
                        {% if item.discount_price %}
                        <s>${{ item.original_price }}</s>
                        {% comment %} <span class="sale">-20&#37;</span> {% endcomment %}
                        <span class="sale">-{{ item.discount_percentage }}%</span>
                        {% endif %}
                    </p>
                     {% comment %} <!-- Add to Cart Button -->
        <form method="POST" action="{% url 'cart:add_to_cart' item.id %}">
            {% csrf_token %}
            <button class="add-to-cart-btn">Add to Cart</button>
        </form> {% endcomment %}
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
    <div class="shop-now viewbtn">
        <button class="shopnow"><a href="{% url 'item:items' %}">View All</a></button>
    </div>
</section>

<!-- TOP SELLING -->
<section class="section-two container-two">
    <h2>TOP SELLING</h2>
    <div class="products-section">
        {% for item in top_selling %}
        <div class="products">
            <a href="{% url 'item:detail' item.id %}">
                <img src="{{ item.image.url }}" alt="{{ item.name }}">
                <div class="p-4">
                    <p>{{ item.name }}</p>
                    <img class="stars" src="{% static 'shopco/images/5-stars.png' %}" alt="5stars">
                    <span class="rating">5.0/5</span>
                    <p class="price">
                        ${{ item.price }}
                        {% if item.discount_price %}
                        <s>${{ item.original_price }}</s>
                        <span class="sale">-{{ item.discount_percentage }}%</span>
                        {% endif %}
                    </p>

                    {% comment %} <form method="POST" action="{% url 'cart:add_to_cart' item.id %}">
                        {% csrf_token %}
                        <button class="add-to-cart-btn">Add to Cart</button>
                    </form> {% endcomment %}
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
    <div class="shop-now viewbtn">
        <button class="shopnow"><a href="{% url 'item:items' %}">View All</a></button>
    </div>
</section>

<!-- CATEGORIES -->
<section class="sectionTwo containerTwo">
    <h2>Categories</h2>
    <div class="products-Section">
        {% for category in categories %}
        <div>
            <a href="{% url 'item:items' %}">
                <p>{{ category.name }}</p>
                <p class="text-gray-500">{{ category.items.count }} Items</p>
            </a>
        </div>
        {% endfor %}
    </div>
</section>
<!-- Dress Style Section -->
<section class="section-four container-two">
    <h2>BROWSE BY DRESS STYLE</h2>
    <div class="flex">
        <div class="casual">
            <a href="{% url 'item:items' %}"><img src="{% static 'shopco/images/casual.png' %}" alt="Casual"></a>
            <div class="centered">Casual</div>
        </div>

        <div class="formal">
            <a href="{% url 'item:items' %}"><img src="{% static 'shopco/images/formal.png' %}" alt="Formal"></a>
            <div class="centered">Formal</div>
        </div>

        <div class="party">
            <a href="{% url 'item:items' %}"><img src="{% static 'shopco/images/party.png' %}" alt="Party"></a>
            <div class="center">Party</div>
        </div>

        <div class="gym">
            <a href="{% url 'item:items' %}"><img src="{% static 'shopco/images/gym.png' %}" alt="Gym"></a>
            <div class="centerone">Gym</div>
        </div>
    </div>
</section>
{% comment %} Reviews Section {% endcomment %}
<section class="reviews-section container-two">
    <div class="reviews-header">
        <h2>OUR HAPPY CUSTOMERS</h2>
    </div>

    <!-- Reviews list -->
    <div class="reviews-list">
        {% for review in reviews %}
            <div class="review-card">
                <img src="{% static 'shopco/images/frame10.png' %}" alt="Review image" class="review-avatar">
                <h3>{{ review.name }}</h3>
                <p>"{{ review.text }}"</p>
                <span class="review-date">{{ review.created_at|date:"M d, Y" }}</span>
            </div>
        {% empty %}
            <p class="no-items">No reviews yet. Be the first to leave one!</p>
        {% endfor %}
    </div>

    <!-- Review form -->
    <div class="review-form-box">
        <h3>Leave a Review</h3>
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="submit-btn">Submit Review</button>
        </form>
    </div>
</section>
{% endblock%}

{% comment %} In order to view dashboard please login in admin and also logout there 
also you must be logged in to go into the cart. And this must also be via admin{% endcomment %}